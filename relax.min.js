;(function(){
function require(r,e,i){var n=require.resolve(r);if(null==n){i=i||r,e=e||"root";var t=new Error('Failed to require "'+i+'" from "'+e+'"');throw t.path=i,t.parent=e,t.require=!0,t}var o=require.modules[n];if(!o._resolving&&!o.exports){var u={};u.exports={},u.client=u.component=!0,o._resolving=!0,o.call(this,u.exports,require.relative(n),u),delete o._resolving,o.exports=u.exports}return o.exports}require.modules={},require.aliases={},require.resolve=function(r){"/"===r.charAt(0)&&(r=r.slice(1));for(var e=[r,r+".js",r+".json",r+"/index.js",r+"/index.json"],i=0;i<e.length;i++){var r=e[i];if(require.modules.hasOwnProperty(r))return r;if(require.aliases.hasOwnProperty(r))return require.aliases[r]}},require.normalize=function(r,e){var i=[];if("."!=e.charAt(0))return e;r=r.split("/"),e=e.split("/");for(var n=0;n<e.length;++n)".."==e[n]?r.pop():"."!=e[n]&&""!=e[n]&&i.push(e[n]);return r.concat(i).join("/")},require.register=function(r,e){require.modules[r]=e},require.alias=function(r,e){if(!require.modules.hasOwnProperty(r))throw new Error('Failed to alias "'+r+'", it does not exist');require.aliases[e]=r},require.relative=function(r){function e(r,e){for(var i=r.length;i--;)if(r[i]===e)return i;return-1}function i(e){var n=i.resolve(e);return require(n,r,e)}var n=require.normalize(r,"..");return i.resolve=function(i){var t=i.charAt(0);if("/"==t)return i.slice(1);if("."==t)return require.normalize(n,i);var o=r.split("/"),u=e(o,"deps")+1;return u||(u=0),i=o.slice(0,u+1).join("/")+"/deps/"+i},i.exists=function(r){return require.modules.hasOwnProperty(i.resolve(r))},i};require.register("component-emitter/index.js",function(t,e,r){function n(t){return t?o(t):void 0}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}r.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){n.off(t,r),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[t];if(!r)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[t];if(r){r=r.slice(0);for(var n=0,o=r.length;o>n;++n)r[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),require.register("component-reduce/index.js",function(t,e,r){r.exports=function(t,e,r){for(var n=0,o=t.length,i=3==arguments.length?r:t[n++];o>n;)i=e.call(null,i,t[n],++n,t);return i}}),require.register("visionmedia-superagent/lib/client.js",function(t,e,r){function n(){}function o(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function i(){if(y.XMLHttpRequest&&("file:"!=y.location.protocol||!y.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1}function s(t){return t===Object(t)}function a(t){if(!s(t))return t;var e=[];for(var r in t)null!=t[r]&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}function u(t){for(var e,r,n={},o=t.split("&"),i=0,s=o.length;s>i;++i)r=o[i],e=r.split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return n}function p(t){var e,r,n,o,i=t.split(/\r?\n/),s={};i.pop();for(var a=0,u=i.length;u>a;++a)r=i[a],e=r.indexOf(":"),n=r.slice(0,e).toLowerCase(),o=x(r.slice(e+1)),s[n]=o;return s}function c(t){return t.split(/ *; */).shift()}function l(t){return m(t.split(/ *; */),function(t,e){var r=e.split(/ *= */),n=r.shift(),o=r.shift();return n&&o&&(t[n]=o),t},{})}function h(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text=this.xhr.responseText,this.setStatusProperties(this.xhr.status),this.header=this.headers=p(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function d(t,e){var r=this;v.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var e=new h(r);"HEAD"==t&&(e.text=null),r.callback(null,e)})}function f(t,e){return"function"==typeof e?new d("GET",t).end(e):1==arguments.length?new d("GET",t):new d(t,e)}var v=e("emitter"),m=e("reduce"),y="undefined"==typeof window?this:window,x="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};f.serializeObject=a,f.parseString=u,f.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},f.serialize={"application/x-www-form-urlencoded":a,"application/json":JSON.stringify},f.parse={"application/x-www-form-urlencoded":u,"application/json":JSON.parse},h.prototype.get=function(t){return this.header[t.toLowerCase()]},h.prototype.setHeaderProperties=function(){var t=this.header["content-type"]||"";this.type=c(t);var e=l(t);for(var r in e)this[r]=e[r]},h.prototype.parseBody=function(t){var e=f.parse[this.type];return e?e(t):null},h.prototype.setStatusProperties=function(t){var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t||1223==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},h.prototype.toError=function(){var t=this.req,e=t.method,r=t.path,n="cannot "+e+" "+r+" ("+this.status+")",o=new Error(n);return o.status=this.status,o.method=e,o.path=r,o},f.Response=h,v(d.prototype),d.prototype.timeout=function(t){return this._timeout=t,this},d.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},d.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},d.prototype.set=function(t,e){if(s(t)){for(var r in t)this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},d.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},d.prototype.type=function(t){return this.set("Content-Type",f.types[t]||t),this},d.prototype.accept=function(t){return this.set("Accept",f.types[t]||t),this},d.prototype.auth=function(t,e){var r=btoa(t+":"+e);return this.set("Authorization","Basic "+r),this},d.prototype.query=function(t){return"string"!=typeof t&&(t=a(t)),t&&this._query.push(t),this},d.prototype.send=function(t){var e=s(t),r=this.getHeader("Content-Type");if(e&&s(this._data))for(var n in t)this._data[n]=t[n];else"string"==typeof t?(r||this.type("form"),r=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return e?(r||this.type("json"),this):this},d.prototype.callback=function(t,e){var r=this._callback;return 2==r.length?r(t,e):t?this.emit("error",t):void r(e)},d.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},d.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},d.prototype.withCredentials=function(){return this._withCredentials=!0,this},d.prototype.end=function(t){var e=this,r=this.xhr=i(),s=this._query.join("&"),a=this._timeout,u=this._data;if(this._callback=t||n,r.onreadystatechange=function(){return 4==r.readyState?0==r.status?e.aborted?e.timeoutError():e.crossDomainError():void e.emit("end"):void 0},r.upload&&(r.upload.onprogress=function(t){t.percent=t.loaded/t.total*100,e.emit("progress",t)}),a&&!this._timer&&(this._timer=setTimeout(function(){e.abort()},a)),s&&(s=f.serializeObject(s),this.url+=~this.url.indexOf("?")?"&"+s:"?"+s),r.open(this.method,this.url,!0),this._withCredentials&&(r.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof u&&!o(u)){var p=f.serialize[this.getHeader("Content-Type")];p&&(u=p(u))}for(var c in this.header)null!=this.header[c]&&r.setRequestHeader(c,this.header[c]);return r.send(u),this},f.Request=d,f.get=function(t,e,r){var n=f("GET",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},f.head=function(t,e,r){var n=f("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},f.del=function(t,e){var r=f("DELETE",t);return e&&r.end(e),r},f.patch=function(t,e,r){var n=f("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},f.post=function(t,e,r){var n=f("POST",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},f.put=function(t,e,r){var n=f("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},r.exports=f}),require.register("component-type/index.js",function(t,e,r){var n=Object.prototype.toString;r.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":typeof t.valueOf()}}),require.register("component-props/index.js",function(t,e,r){function n(t){return t.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(a,"").match(/[a-zA-Z_]\w*/g)||[]}function o(t,e,r){var n=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g;return t.replace(n,function(t){return"("==t[t.length-1]?r(t):~e.indexOf(t)?r(t):t})}function i(t){for(var e=[],r=0;r<t.length;r++)~e.indexOf(t[r])||e.push(t[r]);return e}function s(t){return function(e){return t+e}}var a=/\b(Array|Date|Object|Math|JSON)\b/g;r.exports=function(t,e){var r=i(n(t));return e&&"string"==typeof e&&(e=s(e)),e?o(t,r,e):r}}),require.register("component-to-function/index.js",function(t,e,r){function n(t){switch({}.toString.call(t)){case"[object Object]":return a(t);case"[object Function]":return t;case"[object String]":return s(t);case"[object RegExp]":return i(t);default:return o(t)}}function o(t){return function(e){return t===e}}function i(t){return function(e){return t.test(e)}}function s(t){return/^ *\W+/.test(t)?new Function("_","return _ "+t):new Function("_","return "+u(t))}function a(t){var e={};for(var r in t)e[r]="string"==typeof t[r]?o(t[r]):n(t[r]);return function(t){if("object"!=typeof t)return!1;for(var r in e){if(!(r in t))return!1;if(!e[r](t[r]))return!1}return!0}}function u(t){var e=p(t);if(!e.length)return"_."+t;for(var r,n,o=0;n=e[o];o++)r="_."+n,r="('function' == typeof "+r+" ? "+r+"() : "+r+")",t=t.replace(new RegExp(n,"g"),r);return t}try{var p=e("props")}catch(c){var p=e("props-component")}r.exports=n}),require.register("component-map/index.js",function(t,e,r){var n=e("to-function");r.exports=function(t,e){var r=[];e=n(e);for(var o=0;o<t.length;++o)r.push(e(t[o],o));return r}}),require.register("component-url/index.js",function(t){function e(t){switch(t){case"http:":return 80;case"https:":return 443;default:return location.port}}t.parse=function(t){var r=document.createElement("a");return r.href=t,{href:r.href,host:r.host||location.host,port:"0"===r.port||""===r.port?e(r.protocol):r.port,hash:r.hash,hostname:r.hostname||location.hostname,pathname:"/"!=r.pathname.charAt(0)?"/"+r.pathname:r.pathname,protocol:r.protocol&&":"!=r.protocol?r.protocol:location.protocol,search:r.search,query:r.search.slice(1)}},t.isAbsolute=function(t){return 0==t.indexOf("//")||!!~t.indexOf("://")},t.isRelative=function(e){return!t.isAbsolute(e)},t.isCrossDomain=function(e){return e=t.parse(e),e.hostname!==location.hostname||e.port!==location.port||e.protocol!==location.protocol}}),require.register("relax/index.js",function(t,e,r){function n(t){var e=a.parse("http://localhost:5984");t=t||"";var r=a.parse(t);return this.opts=o(e,r),this}function o(t,e){var r=Object.keys(e);r.forEach(function(r){t[r]=e[r]||t[r]}),t.dbname=t.pathname.split("/")[0];var n=t.auth?t.auth+"@":"";return t.server=t.protocol+"//"+n+t.host,t.dbpath=t.server+"/"+t.dbname,t}function i(t){var e=c(t);if("string"===e||"number"===e)return t;if("object"===e){if(c(t._id))return t._id;if(c(t.id))return t.id}return null}function s(t){var e=c(t);if("string"===e||"number"===e)return t;if("object"===e){if(c(t._rev))return t._rev;if(c(t.rev))return t.rev}return null}var a=e("url"),u=e("superagent");try{var p=e("map-component"),c=e("type-component")}catch(l){var p=e("map"),c=e("type")}r.exports=n,n.prototype.dbname=function(t){return this.opts.dbname=t||"",this.opts.dbpath=this.opts.server+"/"+this.opts.dbname,this},n.prototype.exists=function(t,e){var r=this.opts.server+"/"+t,n=u.head(r);return e?void n.end(function(t,r){r.ok?e(null,r.ok):e(null,r.ok)}):n},n.prototype.create=function(t,e){var r=this.opts.server+"/"+t,n=u.put(r);return e?void n.end(function(t,r){r.ok?e(null,r.ok):e(null,JSON.parse(r.text.trim()))}):n},n.prototype.drop=function(t,e){var r=this.opts.server+"/"+t,n=u.del(r);return e?void n.end(function(t,r){r.ok?e(null,r.ok):e(null,JSON.parse(r.text.trim()))}):n},n.prototype.changes=function(t){var e=this.opts.dbpath+"/_changes",r=u.get(e);return t?void r.end(function(e,r){r.ok?t(null,JSON.parse(r.text.trim())):t(null,JSON.parse(r.text.trim()))}):r},n.prototype.info=function(t){var e=this.opts.dbpath+"/",r=u.get(e);return t?void r.end(function(e,r){r.ok?t(null,JSON.parse(r.text.trim())):t(null,JSON.parse(r.text.trim()))}):r},n.prototype.get=function(t,e){var r=i(t);if(!r)throw new Error("doc has no id");var n=(this.opts.tmp||this.opts.dbpath)+"/"+r;this.opts.tmp=null;var o=u.get(n);return e?void o.end(function(t,r){var n=JSON.parse(r.text.trim());r.ok?e(null,n):e(null,n)}):o},n.prototype.put=function(t,e){var r=i(t),n="can not put - doc has no id";r||(e?e(n,null):new Error(n));var o=(this.opts.tmp||this.opts.dbpath)+"/"+r;this.opts.tmp=null;var s=u.put(o).send(t);return e?void s.end(function(t,r){var n=JSON.parse(r.text.trim());r.ok?e(null,n):e(null,n)}):s},n.prototype.post=function(t,e){var r=this.opts.tmp||this.opts.dbpath;this.opts.tmp=null;var n=u.post(r).send(t);return e?void n.end(function(t,r){var n=JSON.parse(r.text.trim());r.ok?e(null,n):e(null,n)}):n},n.prototype.del=function(t,e){var r=this.opts.dbpath+"/"+i(t),n=u.del(r).query({rev:s(t)});return e?void n.end(function(t){var r=JSON.parse(t.text.trim());t.ok?e(null,r):e(null,r)}):n},n.prototype.bulk=function(t,e){var r="docs isnt array";if("array"!=c(t))return e?e(r):new Error(r);var n=this.opts.dbpath+"/_bulk_docs",o=u.post(n).send({docs:t});return e?void o.end(function(t,r){var n=JSON.parse(r.text.trim());t?e(null,n):e(null,n)}):o},n.prototype.all=function(t,e){var r="docs isnt array";if("array"!=c(t))return e?e(r):new Error(r);var n=this.opts.dbpath+"/_all_docs",o=u.get(n);return e?void o.end(function(t,r){var n=JSON.parse(r.text.trim());t?e(null,n):e(null,n)}):o},n.prototype.push=function(t,e){var r=this.opts.dbpath,n=this.opts.dbpath+"/"+t._id;u.get(n,function(n,o){if(o.ok){var i=JSON.parse(o.text);t._rev=i._rev,u.put(r).send(t).end(function(t,r){var n=JSON.parse(r.text.trim());r.ok?e(null,n):e(null,n)})}else u.post(r).send(t).end(function(t,r){var n=JSON.parse(r.text.trim());r.ok?e(null,n):e(null,n)})})},n.prototype.view=function(t,e){var r="no db name";if(!this.opts.dbname)return e?e(r,null):new Error(r);var n=t.split("/");if(this.opts.tmp){var o=this.opts.tmp+"/"+n[1];this.opts.tmp=null}else var o=this.opts.dbpath+"/_design/"+n[0]+"/_view/"+n[1];var i=u.get(o).query({limit:10});return e?void i.end(function(t,r){var n=r.text.trim();try{var o=JSON.parse(n)}catch(t){var o=n}t?e(n,null):e(null,o)}):i},n.prototype.show=function(t){var e=t.split("/"),r=this.opts.dbpath+"/_design/"+e[0]+"/_show/"+e[1];return this.opts.tmp=r,this},n.prototype.list=function(t){var e=t.split("/"),r=this.opts.dbpath+"/_design/"+e[0]+"/_list/"+e[1];return this.opts.tmp=r,this},n.prototype.update=function(t){var e=t.split("/"),r=this.opts.dbpath+"/_design/"+e[0]+"/_update/"+e[1];return this.opts.tmp=r,this},n.prototype.uuids=function(t,e){"function"===c(t)&&(e=t,t=1);var r=this.opts.server+"/_uuids",n=u.get(r).query({count:t});return e?void n.end(function(t,r){r.ok?e(null,JSON.parse(r.text)):e(t,null)}):n},n.prototype.login=function(t,e){var r=this.opts.server+"/_session",n=u.post(r).send(t);return e?void n.end(function(t,r){t?e(t,null):e(null,JSON.parse(r.text))}):n},n.prototype.logout=function(t){var e=this.opts.server+"/_session",r=u.del(e);return t?void r.end(function(e,r){r.ok?t(null,JSON.parse(r.text)):t(e,null)}):r},n.prototype.session=function(t){var e=this.opts.server+"/_session",r=u.get(e);return t?void r.end(function(e,r){r.ok?t(null,JSON.parse(r.text)):t(e,null)}):r},n.prototype.signup=function(t,e){t.roles=t.roles||[],t.type="user";var r="org.couchdb.user:";t._id=t._id||r+t.name;var n=this.opts.server+"/_users/"+t._id,o=u.put(n).send(t);return e?void o.end(function(t,r){t?e(t,null):e(null,JSON.parse(r.text))}):o},n.prototype.frows=function(t){return t.ok?JSON.parse(t.text).rows:!1},n.prototype.fdocs=function(t){return t.ok?p(JSON.parse(t.text).rows,function(t){return t.doc}):!1}}),require.alias("visionmedia-superagent/lib/client.js","relax/deps/superagent/lib/client.js"),require.alias("visionmedia-superagent/lib/client.js","relax/deps/superagent/index.js"),require.alias("visionmedia-superagent/lib/client.js","superagent/index.js"),require.alias("component-emitter/index.js","visionmedia-superagent/deps/emitter/index.js"),require.alias("component-reduce/index.js","visionmedia-superagent/deps/reduce/index.js"),require.alias("visionmedia-superagent/lib/client.js","visionmedia-superagent/index.js"),require.alias("component-type/index.js","relax/deps/type/index.js"),require.alias("component-type/index.js","type/index.js"),require.alias("component-map/index.js","relax/deps/map/index.js"),require.alias("component-map/index.js","map/index.js"),require.alias("component-to-function/index.js","component-map/deps/to-function/index.js"),require.alias("component-props/index.js","component-to-function/deps/props/index.js"),require.alias("component-url/index.js","relax/deps/url/index.js"),require.alias("component-url/index.js","url/index.js"),require.alias("relax/index.js","relax/index.js");if (typeof exports == "object") {
  module.exports = require("relax");
} else if (typeof define == "function" && define.amd) {
  define([], function(){ return require("relax"); });
} else {
  this["relax"] = require("relax");
}})();